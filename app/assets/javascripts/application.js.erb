//= require jquery.turbolinks//= require jquery_ujs//= require Chart.bundle//= require chartkick//= require_tree .$(function() {	var preloader = $('#preloader');	$(window).on('load', function(){		preloader.delay(3000).fadeOut(500).remove();	});	$('#send-email').click(function(event) {		/* Act on the event */		var _this = this;		$(_this).attr('disabled', true);		if( $('#products tbody').html() == '' ){			$("#alertModal").modal('show');			return;		}		var products = [];		var send_url = $(this).attr('data-url');		$('table#products tbody tr').each(function(index,element){			var image 	= $(element).children('td.image').children('img').attr('src');			var id 		= $(element).children('td.id').html();			var title	= $(element).children('td.title').children('h4').html();			var weight 	= $(element).children('td.weight').html();			var whl 	= $(element).children('td.whl').html();			var battery = $(element).children('td.battery').html();			var notes 	= $(element).children('td.notes').html();			products.push({ image: image, id: id, title: title ,weight: weight, whl: whl, battery: battery, notes: notes });		});		$.ajax({			url: send_url,			type: 'POST',			dataType: 'json',			data: { products: products },			success: function(data) {			      alert(data.status);			      $(_this).attr('disabled', false);			    }		});			});	$('body').on('click', '.product-box', function(event){		event.preventDefault();		product = JSON.parse($(this).attr('data-value'));		row = '<tr id="'+product.id+'"><td class="image"><img src="'+product.images[0]['src']+'" class="img-responsive" ></td><td class="id">#'+product.id+'</td><td class="title"><b class="text-info">'+product.title+'</b></td><td class="weight">'+product.variants[0]['weight']+' '+product.variants[0]['weight_unit']+ '</td><td class="whl"></td><td class="battery"></td><td class="notes"></td><td><i class="glyphicon glyphicon-pencil edit-specs" data-id="'+product.id+'"></i>&nbsp;&nbsp;&nbsp;<i class="glyphicon glyphicon-trash text-danger delete-specs" data-id="'+product.id+'"></i></td></tr>';		$('#products').append(row);		$('tr#'+ product.id +' .edit-specs').click();	});	$('body').on('click', '.edit-specs', function(event) {		event.preventDefault();		/* Act on the event */		var weight 	= $(this).parent().parent().children('td.weight').html();		var width  	= $(this).parent().parent().children('td.whl').html().split('x')[0];		var height 	= $(this).parent().parent().children('td.whl').html().split('x')[1];		var length 	= $(this).parent().parent().children('td.whl').html().split('x')[2];		var battery = $(this).parent().parent().children('td.battery').html();		var notes 	= $(this).parent().parent().children('td.notes').html();		$('#specModal #save-specs').attr('data-id', $(this).attr('data-id'));		$('#specModal #weight-input').val(weight);		$('#specModal #width-input').val(parseFloat(width));		$('#specModal #height-input').val(parseFloat(height));		$('#specModal #length-input').val(parseFloat(length));		$('#specModal #battery-input').val(battery);		$('#specModal #notes-input').val(notes);		$("#specModal").modal('show');	});	$('body').on('click', '.delete-specs', function(event) {		event.preventDefault();		/* Act on the event */		$(this).parent().parent().remove();	});	$('#specModal #save-specs').on('click', function(event) {		event.preventDefault();		/* Act on the event */				var weight 	= $('#specModal #weight-input').val();		var whl 	= $('#specModal #width-input').val()+' x '			            +$('#specModal #height-input').val()+' x '			            +$('#specModal #length-input').val();		var battery = $('#specModal #battery-input').val();		var notes 	= $('#specModal #notes-input').val();		var id 		= $(this).attr('data-id');		$('tr#'+id+' td.weight').html(weight);		$('tr#'+id+' td.whl').html(whl);		$('tr#'+id+' td.battery').html(battery);		$('tr#'+id+' td.notes').html(notes);		$("#specModal").modal('hide');	});});