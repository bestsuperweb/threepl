//= require jquery.turbolinks//= require jquery_ujs//= require moment//= require bootstrap-datetimepicker//= require Chart.bundle//= require chartkick//= require_tree .// $(document).on ( 'turbolinks:load', function(){$(function() {	var preloader = $('#preloader');	$(window).on('load', function(){		preloader.delay(3000).fadeOut(500);	});	if( $('#delivery-date').length ){		$('#delivery-date').datetimepicker({			format: 'YYYY-MM-DD HH:mm',			minDate: moment()		});	}		$('#send-email').click(function(event) {		/* Act on the event */		var _this = this;		$(_this).attr('disabled', true);		if( !$('.product-box.selected .round input:checked').length ){			$("#alertModal").modal('show');			$(_this).attr('disabled', false);			return;		}		preloader.css('background', 'rgba(255,255,255,.8)').show();		var products = [];		var send_url = $(this).attr('data-url');		$('.product-box.selected .round input:checked').each(function(index,element){			var value = $(element).attr('data-value');			products.push(JSON.parse(value));		});		$.ajax({			url: send_url,			type: 'POST',			dataType: 'json',			data: { products: products },			success: function(data) {			      $(_this).attr('disabled', false);			      preloader.hide();			      if ((data.message == 'A JSON text must at least contain two octets!') || (data.message == 'success to send emails')){			      	$('#go-success').click();			      }else{			      	alert("Error! " + data.message);			      }			    },			error: function(xhr,status,error){				$(_this).attr('disabled', false);				preloader.hide() && alert(error);			}		});			});	$('body').on('click', '.product-box .round', function(event){		$(this).children('input').click();		if ( $(this).children('input').prop('checked') ){			$(this).parent('.product-box').addClass('selected');						$("#specModal").modal('show');			$("#specModal #save-specs").attr("data-id", $(this).attr("data-id"));			$("#specModal #img-input").val($(this).attr("data-img"));			$("#specModal #title-input").val($(this).attr("data-title"));		}else{			$(this).parent('.product-box').removeClass('selected');			$(this).children('input').attr('data-value', '');		}			});	$('#specModal #save-specs').on('click', function(event) {		event.preventDefault();		/* Act on the event */		var image 	= $('#specModal #img-input').val();		var title 	= $('#specModal #title-input').val();		var weight 	= $('#specModal #weight-input').val();		var width 	= $('#specModal #width-input').val();		var height 	= $('#specModal #height-input').val();		var length 	= $('#specModal #length-input').val();		var battery = $('#specModal #battery-input').val();		var shiping = $('#specModal #shiping-input').val();		var order 	= $('#specModal #order-input').val();		var notes 	= $('#specModal #notes-input').val();		var id 		= $(this).attr('data-id');		var value = { image: image, title: title ,weight: weight, width: width, height: height, length: length, has_battery: battery, shipping_volume: shiping, order_quantity: order, notes: notes };		$(".product-box .round #"+id).attr("data-value", JSON.stringify(value));		$("#specModal").modal('hide');	});	$('#specModal').on('hidden.bs.modal', function () {	    // do somethingâ€¦	    var id 	= $("#specModal #save-specs").attr('data-id');	    if ($(".product-box .round #"+id).attr("data-value") == '') {	    	$("#"+id).parent(".round").click();	    }	});	$(window).scroll(function() {            var $sidebar = $('.sidebar').eq(0);            var st = $(this).scrollTop();        var height = $sidebar.height() + st;        $sidebar.height( height );    })    .scroll();     });